##########################################################################
# Empire Policies
#
# #####
#
# AI:
# Base AI-weight is 100, if unchanged
# AI will grab whatever policy-option has the highest weight
#
# #####
#
##########################################################################

#vassals_policy = {
#		option = {
#		name = "vassals_policy_test"
#
#		potential = {
#			is_overlord = yes
#		}
#		
#		valid = {
#			always = yes
#		}
#		
#		modifier = {
#			set_variable = { which = numero value = 20 }
#			country_naval_cap_add = numero
#		}
#
#		ai_weight = {
#			weight = 10
#		}
#	}
#}


diplomatic_stance = {
	potential = {
		OR = {
			is_country_type = default
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
			is_country_type = primitive
			is_country_type = awakened_marauders
		}
	}

	allow = {
		always = yes
	}

	option = {
		name = "diplo_stance_disarmament"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no # They have their own variants of this
		}
		
		valid = {
			NAND = {
				has_policy_flag = diplo_stance_minimal_army
				has_modifier = tora_tora_tora
			}
			NOR = {
				has_policy_flag = diplo_stance_neutral
				has_policy_flag = diplo_stance_conscription
				has_policy_flag = diplo_stance_full_scale_mobilization
			}
			OR = {
				has_tradition = tr_harmony_finish
				has_tradition = tr_synchronicity_finish
			}
		}
		
		policy_flags = {
			diplo_stance_disarmament
		}

		modifier = {
			country_war_exhaustion_mult = 0.1
			ship_fire_rate_mult = -0.2
			ships_upkeep_mult = -0.2
			diplo_weight_economy_mult = 0.2
			diplo_weight_naval_mult = -0.2
			wars_influence_upkeep_mult = 0.5
			country_trust_cap_add = 50
		}

		on_enabled = {
			if = {
				limit = { is_gestalt = no }
				add_modifier = { modifier = phi_disarmament }
			}
			if = {
				limit = { is_gestalt = yes }
				add_modifier = { modifier = phi_disarmament_gestalt }
			}
		}
		
		on_disabled = {
			remove_modifier = phi_disarmament
			remove_modifier = phi_disarmament_gestalt
		}

		ai_weight = {
			weight = 1000
		}
	}
	
	option = {
		name = "diplo_stance_minimal_army"
		icon = "GFX_diplomatic_stance_cooperative"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no # They have their own variants of this
		}
		
		valid = {
			NAND = {
				OR = {
					has_policy_flag = diplo_stance_disarmament
					has_policy_flag = diplo_stance_neutral
				}
				has_modifier = tora_tora_tora
			}
			NOR = {
				has_policy_flag = diplo_stance_conscription
				has_policy_flag = diplo_stance_full_scale_mobilization
			}
		}
		
		policy_flags = {
			diplo_stance_minimal_army
		}
		
		modifier = {
			country_war_exhaustion_mult = 0.05
			ship_fire_rate_mult = -0.1
			ships_upkeep_mult = -0.1
			diplo_weight_economy_mult = 0.1
			diplo_weight_naval_mult = -0.1
		}
		
		on_enabled = {
			if = {
				limit = { is_gestalt = no }
				add_modifier = { modifier = phi_minimal_army }
			}
			if = {
				limit = { is_gestalt = yes }
				add_modifier = { modifier = phi_minimal_army_gestalt }
			}
		}
		
		on_disabled = {
			remove_modifier = phi_minimal_army
			remove_modifier = phi_minimal_army_gestalt
		}

		ai_weight = {
			weight = 200
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_militarist"
					has_ethic = "ethic_fanatic_militarist"
				}
			}
		}
	}
	
	option = {
		name = "diplo_stance_neutral"
		icon = "GFX_diplomatic_stance_mercantile"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no # They have their own variants of this
		}
		
		valid = {
			NAND = {
				OR = {
					has_policy_flag = diplo_stance_minimal_army
					has_policy_flag = diplo_stance_conscription
				}
				has_modifier = tora_tora_tora
			}
			NOR = {
				has_policy_flag = diplo_stance_disarmament
				has_policy_flag = diplo_stance_full_scale_mobilization
			}
		}
		
		policy_flags = {
			diplo_stance_neutral
		}

		modifier = {
		}

		ai_weight = {
			weight = 10
		}
	}
	
	option = {
		name = "diplo_stance_conscription"
		icon = "GFX_diplomatic_stance_belligerent"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no # They have their own variants of this
		}
		
		valid = {
			NAND = {
				OR = {
					has_policy_flag = diplo_stance_neutral
					has_policy_flag = diplo_stance_full_scale_mobilization
				}
				has_modifier = tora_tora_tora
			}
			NOR = {
				has_policy_flag = diplo_stance_disarmament
				has_policy_flag = diplo_stance_minimal_army
			}
		}

		policy_flags = {
			diplo_stance_conscription
		}

		modifier = {
			country_war_exhaustion_mult = -0.05
			ship_fire_rate_mult = 0.1
			ships_upkeep_mult = 0.1
			diplo_weight_economy_mult = -0.1
			diplo_weight_naval_mult = 0.1
			country_trust_cap_add = -25
		}

		on_enabled = {
			if = {
				limit = { is_gestalt = no }
				add_modifier = { modifier = phi_conscription }
			}
			if = {
				limit = { is_gestalt = yes }
				add_modifier = { modifier = phi_conscription_gestalt }
			}
		}
		
		on_disabled = {
			remove_modifier = phi_conscription
			remove_modifier = phi_conscription_gestalt
		}

		ai_weight = {
			weight = 200
			modifier = {
				factor = 2
				OR = {
					has_ethic = "ethic_militarist"
					has_ethic = "ethic_fanatic_militarist"
				}
			}
		}
	}
	
	option = {
		name = "diplo_stance_full_scale_mobilization"
		icon = "GFX_diplomatic_stance_supremacy"

		potential = {
			OR = {
				is_country_type = default
				is_country_type = awakened_fallen_empire
			}
			is_homicidal = no # They have their own variants of this
		}
		
		in_breach_of = {
			{
				key = resolution_rulesofwar_demobilization_initiative
			}
		}
		
		valid = {
			NAND = {
				has_policy_flag = diplo_stance_conscription
				has_modifier = tora_tora_tora
			}
			NOR = {
				has_policy_flag = diplo_stance_disarmament
				has_policy_flag = diplo_stance_minimal_army
				has_policy_flag = diplo_stance_neutral
			}
			OR = {
				has_tradition = tr_supremacy_finish
				has_origin = origin_payback
			}
		}

		policy_flags = {
			diplo_stance_full_scale_mobilization
		}

		modifier = {
			country_war_exhaustion_mult = -0.1
			ship_fire_rate_mult = 0.2
			ships_upkeep_mult = 0.2
			diplo_weight_economy_mult = -0.2
			diplo_weight_naval_mult = 0.2
			wars_influence_upkeep_mult = -0.33
			diplomacy_influence_upkeep_mult = +0.1
			country_trust_cap_add = -50
			
		}

		on_enabled = {
			if = {
				limit = { is_gestalt = no }
				add_modifier = { modifier = phi_full_scale_mobilization }
			}
			if = {
				limit = { is_gestalt = yes }
				add_modifier = { modifier = phi_full_scale_mobilization_gestalt }
			}
		}
		
		on_disabled = {
			remove_modifier = phi_full_scale_mobilization
			remove_modifier = phi_full_scale_mobilization_gestalt
		}

		ai_weight = {
			weight = 1000
		}	
	}


	option = {
		name = "diplo_stance_mating"
		icon = "GFX_diplomatic_stance_rest"

		potential = {
			has_valid_civic = civic_hive_devouring_swarm
		}
		
		valid = {
			NOT = {
				has_policy_flag = diplo_stance_frenzy
			}
		}

		policy_flags = {
			diplo_stance_mating
		}

		modifier = {
			ship_speed_mult = -0.10
			pop_growth_speed = 0.10
		}

		ai_weight = {
			weight = 10
		}
	}
	
	option = {
		name = "diplo_stance_hunger"
		icon = "GFX_diplomatic_stance_rest"

		potential = {
			has_valid_civic = civic_hive_devouring_swarm
		}

		policy_flags = {
			diplo_stance_hunger
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}
	
	option = {
		name = "diplo_stance_frenzy"
		icon = "GFX_diplomatic_stance_rest"

		potential = {
			has_valid_civic = civic_hive_devouring_swarm
		}
		
		valid = {
			NOT = {
				has_policy_flag = diplo_stance_mating
			}
		}

		policy_flags = {
			diplo_stance_frenzy
		}

		modifier = {
			ship_speed_mult = 0.10
			pop_growth_speed = -0.10
		}

		ai_weight = {
			weight = 10
		}
	}
	
	option = {
		name = "diplo_stance_assembling"
		icon = "GFX_diplomatic_stance_recompiling"

		potential = {
			has_valid_civic = civic_machine_terminator
		}
		
		valid = {
			NOT = {
				has_policy_flag = diplo_stance_kknd
			}
		}

		policy_flags = {
			diplo_stance_assembling
		}

		modifier = {
			ship_speed_mult = -0.10
			planet_pop_assembly_mult = 0.10
		}

		ai_weight = {
			weight = 10
		}
	}
	
	option = {
		name = "diplo_stance_extermination"
		icon = "GFX_diplomatic_stance_recompiling"

		potential = {
			has_valid_civic = civic_machine_terminator
		}

		policy_flags = {
			diplo_stance_extermination
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}
	
	option = {
		name = "diplo_stance_kknd"
		icon = "GFX_diplomatic_stance_recompiling"

		potential = {
			has_valid_civic = civic_machine_terminator
		}
		
		valid = {
			NOT = {
				has_policy_flag = diplo_stance_assembling
			}
		}

		policy_flags = {
			diplo_stance_kknd
		}

		modifier = {
			ship_speed_mult = 0.10
			planet_pop_assembly_mult = -0.10
		}

		ai_weight = {
			weight = 10
		}
	}

	option = {
		name = "diplo_stance_blood_orgies"
		icon = "GFX_diplomatic_stance_withdrawn"

		potential = {
			has_valid_civic = civic_fanatic_purifiers
		}
		
		valid = {
			NOT = {
				has_policy_flag = diplo_stance_exhaltation
			}
		}

		policy_flags = {
			diplo_stance_blood_orgies
		}

		modifier = {
			ship_speed_mult = -0.10
			pop_growth_speed = 0.10
		}

		ai_weight = {
			weight = 10
		}
	}
	
	option = {
		name = "diplo_stance_purification"
		icon = "GFX_diplomatic_stance_withdrawn"

		potential = {
			has_valid_civic = civic_fanatic_purifiers
		}

		policy_flags = {
			diplo_stance_purification
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}
	
	option = {
		name = "diplo_stance_exhaltation"
		icon = "GFX_diplomatic_stance_withdrawn"

		potential = {
			has_valid_civic = civic_fanatic_purifiers
		}
		
		valid = {
			NOT = {
				has_policy_flag = diplo_stance_blood_orgies
			}
		}

		policy_flags = {
			diplo_stance_exhaltation
		}

		modifier = {
			ship_speed_mult = 0.10
			pop_growth_speed = -0.10
		}

		ai_weight = {
			weight = 10
		}
	}

	option = {
		name = "diplo_stance_isolationist_fallen_empire"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			is_country_type = fallen_empire
		}

		policy_flags = {
			diplo_stance_isolationist_fallen_empire
		}

		modifier = {
		}

		ai_weight = {
			weight = 100
		}
	}

	option = {
		name = "diplo_stance_ignorant"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			is_country_type = primitive
			current_awareness_level < medium
			capital_scope = {
				NOT = { has_modifier = culture_shock_diplomacy }
			}
		}

		policy_flags = {
			diplo_stance_ignorant
		}

		modifier = {
		}

		ai_weight = {
			weight = 1
		}
	}

	option = {
		name = "diplo_stance_questioning"
		icon = "GFX_diplomatic_stance_expansionist"

		potential = {
			is_country_type = primitive
			current_awareness_level = medium
			capital_scope = {
				NOT = { has_modifier = culture_shock_diplomacy }
			}
		}

		policy_flags = {
			diplo_stance_questioning
		}

		modifier = {
		}

		ai_weight = {
			weight = 1
		}
	}

	option = {
		name = "diplo_stance_eager"
		icon = "GFX_diplomatic_stance_cooperative"

		potential = {
			is_country_type = primitive
			current_awareness_level >= high
			is_xenophile = yes
			capital_scope = {
				NOT = { has_modifier = culture_shock_diplomacy }
			}
		}

		policy_flags = {
			diplo_stance_eager
		}

		modifier = {
		}

		ai_weight = {
			weight = 1
		}
	}

	option = {
		name = "diplo_stance_fearful"
		icon = "GFX_diplomatic_stance_withdrawn"

		potential = {
			is_country_type = primitive
			current_awareness_level >= high
			is_xenophobe = yes
			capital_scope = {
				NOT = { has_modifier = culture_shock_diplomacy }
			}
		}

		policy_flags = {
			diplo_stance_fearful
		}

		modifier = {
		}

		ai_weight = {
			weight = 1
		}
	}

	option = {
		name = "diplo_stance_uncertain"
		icon = "GFX_diplomatic_stance_isolationist"

		potential = {
			is_country_type = primitive
			current_awareness_level >= high
			is_xenophile = no
			is_xenophobe = no
			capital_scope = {
				NOT = { has_modifier = culture_shock_diplomacy }
			}
		}

		policy_flags = {
			diplo_stance_uncertain
		}

		modifier = {
		}

		ai_weight = {
			weight = 1
		}
	}

	option = {
		name = "diplo_stance_culture_shock"
		icon = "GFX_diplomatic_stance_belligerent"

		potential = {
			is_country_type = primitive
			capital_scope = {
				has_modifier = culture_shock_diplomacy
			}
		}

		policy_flags = {
			diplo_stance_culture_shock
		}

		modifier = {
			diplo_action_acceptance_add = -100
		}

		ai_weight = {
			weight = 100
		}
	}
}

war_philosophy = {

	potential = {
		OR = {
			is_country_type = default
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
		}
	}

	allow = {
		is_at_war = no # Not allowed to change policies in this group while at war
	}

	option = {
		name = "unrestricted_wars"

		policy_flags = {
			unrestricted_wars
		}
		
		modifier = {
			army_attack_health_mult = 1
			army_attack_damage_mult = 1
		}
		
		in_breach_of = {
			{
				key = resolution_rulesofwar_last_resort_doctrine
			}
		}

		valid = {
			always = yes
		}

		AI_weight = {
			modifier = {
				factor = 10
				OR = {
					has_valid_ai_personality = no
					is_ai = no
				}
				
			}
			modifier = {
				factor = 1000
				AND = {
						is_ai = no
						OR = {
							has_ethic = "ethic_militarist"
							has_ethic = "ethic_fanatic_militarist"
						}
				}
			}
			
			modifier = {
				factor = 10
				has_valid_ai_personality = yes
				is_ai = yes
				OR = {
					has_ai_personality_behaviour = conqueror
					has_ai_personality_behaviour = subjugator
					has_ai_personality_behaviour = purger
				}
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
					is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
				}
			}
		}
	}

	option = {
		name = "liberation_wars"

		policy_flags = {
			liberation_wars
		}
		
		modifier = {
			planet_stability_add = 2
			army_defense_morale_mult = 1
			army_defense_damage_mult = 0.5
			army_attack_morale_mult = 1
			army_attack_damage_mult = 0.5
			wars_influence_upkeep_mult = -0.25
		}

		potential = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
		}

		valid = {
			NOR = {
				has_valid_civic = "civic_fanatic_purifiers"
			}
		}

		on_enabled = {
			hidden_effect = {
				check_casus_belli_valid = {
					type = cb_ideology
				}
			}
		}

		on_disabled = {
			hidden_effect = {
				check_casus_belli_valid = {
					type = cb_ideology
				}
			}
		}

		AI_weight = {
			modifier = {
				factor = 2
				OR = {
					has_valid_ai_personality = no
					is_ai = no
				}
				has_ethic = "ethic_pacifist"
			}
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				is_ai = yes
				OR = {
					has_ai_personality_behaviour = conqueror
					has_ai_personality_behaviour = subjugator
					has_ai_personality_behaviour = liberator
				}
			}
		}
	}

	option = {
		name = "no_wars"

		policy_flags = {
			no_wars
		}

		valid = {
			NOR = {
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
				has_civic = "civic_crusader_spirit"
			}
		}
		
		modifier = {
			planet_stability_add = 5
			army_defense_health_mult = 1
			army_defense_damage_mult = 1
			wars_influence_upkeep_mult = 0.5
		}

		AI_weight = {
			modifier = {
				factor = 200
				is_ai = no
			}
			modifier = {
				factor = 5
				has_ethic = "ethic_fanatic_pacifist"
			}
			# modifier = {
			# 	factor = 0
			# 	NOT = { has_ethic = "ethic_fanatic_pacifist" }
			# }
		}
	}
}

war_doctrine = {
	potential = {
		OR = {
			AND = {
				is_country_type = default
				has_tradition = tr_supremacy_finish
			}
			is_country_type = enclave_mercenary
		}
	}

	option = {
		name = "defense_in_depth_doctrine"

		policy_flags = {}
		modifier = {
			ship_home_territory_fire_rate_mult = 0.10
		}

		AI_weight = {
			factor = 1
		}
	}

	option = {
		name = "hit_and_run_doctrine"

		policy_flags = {}
		modifier = {
			ship_disengage_opportunities_add = 2
			ship_disengage_chance_mult = 0.33
			ship_emergency_ftl_mult = -0.25
		}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				NOR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}
		}
	}

	option = {
		name = "rapid_deployment_doctrine"

		policy_flags = {}
		modifier = {
			ship_speed_mult = 0.25
			ship_weapon_range_mult = 0.10
		}

		AI_weight = {
			factor = 100
		}
	}

	option = {
		name = "no_retreat_doctrine"

		valid = {
			OR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_gestalt_consciousness
				has_civic = civic_fanatic_purifiers
				has_ascension_perk = ap_become_the_crisis
			}
		}

		policy_flags = { phi_no_retreat }
		modifier = {
			ship_disengage_chance_reduction = 1
			ship_emergency_ftl_min_days_mult = 0.5
			ship_fire_rate_mult = 0.33
		}

		AI_weight = {
			factor = 1000
		}
	}
}

subjugation_war_terms = {
	potential = {
		is_subject = no
		OR = {
			is_country_type = default
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
		}
	}

	option = {
		name = "oppressive_terms"

		policy_flags = {
			oppressive_terms
		}

		potential = {
			NOT = { has_authority = auth_corporate }
		}

		on_enabled = {
			hidden_effect = { #this is to remember the player's pick if they are subjugated
				if = {
					limit = { is_ai = no }
					set_country_flag = oppressive_terms_preference
					remove_country_flag = benevolent_terms_preference
					remove_country_flag = balanced_terms_preference
				}
			}
		}

		ai_weight = {
			weight = 10

			# Nice people who would never pick this.
			modifier = {
				factor = 0.1
				has_ethic = ethic_fanatic_xenophile
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_xenophile
			}
			modifier = {
				factor = 0.1
				has_ethic = ethic_fanatic_pacifist
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_pacifist
			}

			# Bad people who likely would.
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_xenophobe
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 10
				has_country_flag = oppressive_terms_preference
			}
		}
	}

	option = {
		name = "balanced_terms"

		policy_flags = {
			balanced_terms
		}

		potential = {
			NOT = { has_authority = auth_corporate }
		}

		on_enabled = {
			hidden_effect = {
				if = {
					limit = { is_ai = no }
					set_country_flag = balanced_terms_preference
					remove_country_flag = benevolent_terms_preference
					remove_country_flag = oppressive_terms_preference
				}
			}
		}

		ai_weight = {
			weight = 10

			# Rational people who would like this.
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_egalitarian
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_egalitarian
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_materialist
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_materialist
			}
			modifier = {
				factor = 10
				has_country_flag = balanced_terms_preference
			}
		}
	}

	option = {
		name = "benevolent_terms"

		policy_flags = {
			benevolent_terms
		}

		potential = {
			NOT = { has_authority = auth_corporate }
		}

		on_enabled = {
			hidden_effect = {
				if = {
					limit = { is_ai = no }
					set_country_flag = benevolent_terms_preference
					remove_country_flag = balanced_terms_preference
					remove_country_flag = oppressive_terms_preference
				}
			}
		}

		ai_weight = {
			weight = 10

			# Bad people who probably not pick this.
			modifier = {
				factor = 0.1
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_xenophobe
			}
			modifier = {
				factor = 0.1
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_authoritarian
			}

			# Nice people who probably would.
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_xenophile
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_xenophile
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_pacifist
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_pacifist
			}
			modifier = {
				factor = 10
				has_country_flag = benevolent_terms_preference
			}
		}
	}

	option = {
		name = "oppressive_corporate_terms"

		policy_flags = {
			oppressive_terms
		}

		potential = {
			has_authority = auth_corporate
		}

		on_enabled = {
			hidden_effect = { #this is to remember the player's pick if they are subjugated
				if = {
					limit = { is_ai = no }
					set_country_flag = oppressive_terms_preference
					remove_country_flag = benevolent_terms_preference
					remove_country_flag = balanced_terms_preference
				}
			}
		}

		ai_weight = {
			weight = 10

			# Nice people who would never pick this.
			modifier = {
				factor = 0.1
				has_ethic = ethic_fanatic_xenophile
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_xenophile
			}
			modifier = {
				factor = 0.1
				has_ethic = ethic_fanatic_pacifist
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_pacifist
			}

			# Bad people who likely would.
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_xenophobe
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_authoritarian
			}
			modifier = {
				factor = 10
				has_country_flag = oppressive_terms_preference
			}
		}
	}

	option = {
		name = "balanced_corporate_terms"

		policy_flags = {
			balanced_terms
		}

		on_enabled = {
			hidden_effect = {
				if = {
					limit = { is_ai = no }
					set_country_flag = balanced_terms_preference
					remove_country_flag = benevolent_terms_preference
					remove_country_flag = oppressive_terms_preference
				}
			}
		}

		potential = {
			has_authority = auth_corporate
		}

		ai_weight = {
			weight = 10

			# Rational people who would like this.
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_egalitarian
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_egalitarian
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_materialist
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_materialist
			}
			modifier = {
				factor = 10
				has_country_flag = balanced_terms_preference
			}
		}
	}

	option = {
		name = "benevolent_corporate_terms"

		policy_flags = {
			benevolent_terms
		}

		potential = {
			has_authority = auth_corporate
		}

		on_enabled = {
			hidden_effect = {
				if = {
					limit = { is_ai = no }
					set_country_flag = benevolent_terms_preference
					remove_country_flag = balanced_terms_preference
					remove_country_flag = oppressive_terms_preference
				}
			}
		}

		ai_weight = {
			weight = 10

			# Bad people who probably not pick this.
			modifier = {
				factor = 0.1
				has_ethic = ethic_fanatic_xenophobe
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_xenophobe
			}
			modifier = {
				factor = 0.1
				has_ethic = ethic_fanatic_authoritarian
			}
			modifier = {
				factor = 0.5
				has_ethic = ethic_authoritarian
			}

			# Nice people who probably would.
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_xenophile
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_xenophile
			}
			modifier = {
				factor = 1.3
				has_ethic = ethic_fanatic_pacifist
			}
			modifier = {
				factor = 1.15
				has_ethic = ethic_pacifist
			}
			modifier = {
				factor = 10
				has_country_flag = benevolent_terms_preference
			}
		}
	}
}
orbital_bombardment = {

	potential = {
		OR = {
			is_country_type = default
			is_country_type = vol
		}
	}

	option = {
		name = "orbital_bombardment_selective"
		policy_flags = {
			orbital_bombardment_selective
		}

		AI_weight = {
			modifier = {
				factor = 0
				NOR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
				}
				NOT = {
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_rulesofwar_independent_tribunals"
						is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
						is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
					}
				}
			}
		}
	}
	option = {
		name = "orbital_bombardment_indiscriminate"

		in_breach_of = {
			{
				key = resolution_rulesofwar_independent_tribunals
			}
		}

		policy_flags = {
			orbital_bombardment_indiscriminate
		}
		modifier = {}

		valid = {
			always = yes
		}
		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_fanatic_pacifist"
					has_ethic = "ethic_pacifist"
				}
			}
			modifier = {
				factor = 0.1
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_rulesofwar_independent_tribunals"
					is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
					is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
				}
			}
		}
	}
	option = {
		name = "orbital_bombardment_armageddon"

		in_breach_of = {
			{
				key = resolution_rulesofwar_independent_tribunals
			}
		}

		potential = {
			OR = {
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_machine_terminator
			}
		}

		policy_flags = {
			orbital_bombardment_armageddon
		}
		modifier = {}

		AI_weight = {
			modifier = {
				factor = 10
				OR = {
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_machine_terminator
				}
			}
			modifier = {
				factor = 10
				has_ascension_perk = ap_become_the_crisis
			}
		}
	}
}

orbital_bombardment_accept_surrender = {
	
	potential = {
		is_homicidal = no
	}

	option = {
		name = "orbital_bombardment_surrender_forbidden"

		policy_flags = {
			orbital_bombardment_surrender_forbidden
		}
		modifier = {}

		AI_weight = {
			base = 0
		}
	}

	option = {
		name = "orbital_bombardment_surrender_allowed"

		potential = {
			is_homicidal = no #locked to "forbidden"
		}
		
		policy_flags = {
			orbital_bombardment_surrender_allowed
		}
	}
}

interference = {

	potential = {
		has_met_primitives = yes
	}

	option = {
		name = "interference_not_allowed"

		policy_flags = {
			interference_not_allowed
		}

		on_enabled = {
			hidden_effect = { 
				set_country_flag = encountered_first_primitive
			}
		}

		in_breach_of = {
			{
				key = resolution_galacticstudies_advanced_xenostudies
			}
			{
				key = resolution_pre_ftl_stances_equal_standing
			}
			{
				key = resolution_pre_ftl_stances_exploitation
			}
		}

		valid = {
			OR = {
				custom_tooltip = {
					text = is_a_signatory_vassal
					any_agreement = { agreement_preset = preset_signatory }
				}
				is_active_resolution = resolution_pre_ftl_stances_non_interference
				NOR = {
					has_ethic = "ethic_fanatic_xenophobe"
					has_valid_civic = "civic_fanatic_purifiers"
					has_valid_civic = "civic_hive_devouring_swarm"
					has_valid_civic = "civic_machine_terminator"
				}
			}
		}

		AI_weight = {
			modifier = {
				factor = 0.1
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					is_active_resolution = "resolution_pre_ftl_stances_equal_standing"
					is_active_resolution = "resolution_pre_ftl_stances_exploitation"
				}
			}
		}
	}

	option = {
		name = "interference_subtle"

		policy_flags = {
			interference_subtle
		}

		on_enabled = {
			hidden_effect = { set_country_flag = encountered_first_primitive }
		}

		valid = {
			OR = {
				custom_tooltip = {
					text = is_a_signatory_vassal
					any_agreement = { agreement_preset = preset_signatory }
				}
				NOR = {
					has_ethic = "ethic_fanatic_xenophobe"
					has_valid_civic = "civic_fanatic_purifiers"
					has_valid_civic = "civic_hive_devouring_swarm"
					has_valid_civic = "civic_machine_terminator"
				}
			}
		}

		AI_weight = {
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = infiltrator
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOT = {
					has_ai_personality_behaviour = infiltrator
				}
			}
		}
	}

	option = {
		name = "interference_active"

		policy_flags = {
			interference_active
		}
		
		in_breach_of = {
			{
				key = resolution_pre_ftl_stances_non_interference
			}
		}

		on_enabled = {
			hidden_effect = { set_country_flag = encountered_first_primitive }
		}

		valid = {
			NOR = {
				custom_tooltip = {
					text = is_a_signatory_vassal
					any_agreement = { agreement_preset = preset_signatory }
				}
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
			}
		}

		AI_weight = {
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				OR = {
					has_ai_personality_behaviour = infiltrator
					has_ai_personality_behaviour = dominator
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = infiltrator
					has_ai_personality_behaviour = dominator
				}
			}
			modifier = {
				factor = 0.1
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					is_active_resolution = "resolution_pre_ftl_stances_non_interference"
				}
			}
		}
	}
	option = {
		name = "interference_aggressive"

		in_breach_of = {
			{
				key = resolution_pre_ftl_stances_non_interference
			}
			{
				key = resolution_pre_ftl_stances_equal_standing
			}
		}
		valid = {
			custom_tooltip = {
				success_text = is_not_a_signatory_vassal_success
				fail_text = is_not_a_signatory_vassal_fail
				NOT = { any_agreement = { agreement_preset = preset_signatory } }
			}
			NOR = {
				has_ethic = "ethic_pacifist"
				has_ethic = "ethic_fanatic_pacifist"
				has_ethic = "ethic_xenophile"
				has_ethic = "ethic_fanatic_xenophile"
				has_valid_civic = civic_machine_exploration_protocol
			}
		}
		on_enabled = {
			hidden_effect = { set_country_flag = encountered_first_primitive }
		}
		policy_flags = {
			interference_aggressive
		}
		modifier = {}
		AI_weight = {
			modifier = {
				factor = 3
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = dominator
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOT = {
					has_ai_personality_behaviour = dominator
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
				}
			}
			modifier = {
				factor = 0.1
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_pre_ftl_stances_non_interference"
					is_active_resolution = "resolution_pre_ftl_stances_equal_standing"
				}
			}
		}
	}
}

enlightenment = {

	potential = {
		has_met_primitives = yes
	}

	option = {
		name = "enlightenment_not_allowed"

		policy_flags = {
			enlightenment_not_allowed
		}

		AI_weight = {
			weight = 1
		}
	}

	option = {
		name = "enlightenment_covert_only"

		policy_flags = {
			enlightenment_covert_only
		}

		valid = {
			NOT = { has_policy_flag = interference_not_allowed }
			NOR = {
				has_ethic = "ethic_fanatic_xenophobe"
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			}
		}
		
		AI_weight = {
			weight = 1
		}
	}

	option = {
		name = "enlightenment_allowed"

		policy_flags = {
			enlightenment_allowed
		}
		modifier = {}

		valid = {
			NOT = { has_policy_flag = interference_not_allowed }
			NOR = {
				has_ethic = "ethic_fanatic_xenophobe"
				has_valid_civic = "civic_fanatic_purifiers"
				has_valid_civic = "civic_hive_devouring_swarm"
				has_valid_civic = "civic_machine_terminator"
			}
		}

		AI_weight = {
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = uplifter
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOT = { has_ai_personality_behaviour = uplifter }
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
				}
			}
		}
	}
}

resettlement = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}

	option = {
		name = "resettlement_not_allowed"

		policy_flags = {
			resettlement_not_allowed
		}
	}

	option = {
		name = "resettlement_allowed"

		policy_flags = {
			resettlement_allowed
		}
		modifier = {}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
		}
	}
}

appropriation = {
	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
		has_comms_with_alien_empire = yes
	}

	option = {
		name = "appropriation_not_allowed"

		policy_flags = {
			appropriation_not_allowed
		}

		AI_weight = {
			modifier = {
				factor = 10
				has_ai_personality_behaviour = multispecies
			}
		}
	}

	option = {
		name = "appropriation_allowed"
		
		valid = {
			has_tradition = tr_adaptability_appropriation
		}

		policy_flags = {
			appropriation_allowed
		}
		modifier = {
			planet_jobs_ruler_produces_mult = 1
		}

		AI_weight = {
			modifier = {
				factor = 10
				NOT = { has_ai_personality_behaviour = multispecies }
			}
		}
	}
}

leader_enhancement = {

	potential = {
		has_technology = tech_selected_lineages
	}

	option = {
		name = "leader_enhancement_natural_selection"

		policy_flags = {
			leader_enhancement_natural_selection
		}

		in_breach_of = {
			{
				key = resolution_phi_aristocracy_gifted_individuals
				trigger = {
					OR = {
						has_technology = tech_selected_lineages
						has_technology = tech_capacity_boosters
					}
				}
			}
		}

		on_enabled = {
			# custom_tooltip = "policy_allow_slavery_effect_disable"
		}

		modifier = {}

	}

	option = {
		name = "leader_enhancement_selected_lineages"

		policy_flags = {
			leader_enhancement_selected_lineages
		}
		modifier = {
			species_leader_exp_gain = 0.1
			leader_age = 10
			leaders_cost_mult = 0.5
		}

		in_breach_of = {
			{
				key = resolution_phi_aristocracy_gifted_individuals
				trigger = {
					has_technology = tech_capacity_boosters
				}
			}
		}

		valid = {
			always = yes
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_egalitarian"
					has_ethic = "ethic_fanatic_egalitarian"
				}
				NOT = {
					has_valid_ai_personality = yes
					is_ai = yes
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
						is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					}
				}
			}
		}

		prerequisites = { tech_selected_lineages }
	}

	option = {
		name = "leader_enhancement_capacity_boosters"

		policy_flags = {
			leader_enhancement_capacity_boosters
		}
		modifier = {
			species_leader_exp_gain = 0.2
			leader_age = 20
			leaders_cost_mult = 1
		}

		valid = {
			always = yes
		}

		prerequisites = { tech_capacity_boosters }

		AI_weight = {
			factor = 3
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_egalitarian"
					has_ethic = "ethic_fanatic_egalitarian"
				}
			}
		}
	}
}

first_contact_protocol = {

	potential = {
		always = yes
	}

	option = {
		name = "first_contact_proactive"

		policy_flags = {
			first_contact_proactive
		}

		modifier = {
			first_contact_speed_mult = 0.1
		}

		on_enabled = {
		}

		valid = {
			is_homicidal = no
			is_xenophobe = no
			NOT = { has_origin = origin_payback }
		}

		AI_weight = {
			modifier = {
				factor = 2
				is_pacifist = yes
			}
			modifier = {
				factor = 2
				is_xenophile = yes
			}
			modifier = {
				factor = 2
				has_valid_civic = civic_machine_servitor
			}
		}
	}

	option = {
		name = "first_contact_cautious"

		policy_flags = {
			first_contact_cautious
		}

		modifier = {
			first_contact_defense_add = 2
		}

		on_enabled = {
		}

		valid = {
			is_homicidal = no
		}

		AI_weight = {
			modifier = {
				factor = 1.5
				always = yes #Liu Cixin is right
			}
			modifier = {
				factor = 2
				has_origin = origin_payback
			}
		}
	}

	option = {
		name = "first_contact_attack_allowed"

		policy_flags = {
			first_contact_attack_allowed
		}
		modifier = {}

		valid = {
			is_pacifist = no
			is_xenophile = no
		}


		AI_weight = {
			modifier = {
				factor = 2
				is_militarist = yes
			}
			modifier = {
				factor = 2
				is_xenophobe = yes
			}
			modifier = {
				factor = 2
				is_gestalt = yes
			}
		}
	}
}

border_policy = {

	potential = {
		always = yes
	}

	option = {
		name = "border_policy_open"

		policy_flags = {
			border_policy_open
		}

		potential = {
			OR = {
				is_country_type = default
				is_primitive = yes
			}
		}

		valid = {
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
			}
		}
	}

	option = {
		name = "border_policy_closed"

		policy_flags = {
			border_policy_closed
		}
		modifier = {}

		valid = {
			is_primitive = no
		}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				has_authority = auth_corporate
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = isolationist
					has_ai_personality_behaviour = attack_neutrals
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				NOR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
			modifier = {
				factor = 10
				has_crisis_level = crisis_level_5
			}
		}
	}
}

food_policy = {
	potential = {
		always = no
	}

	option = {
		name = "food_policy_rationing"

		modifier = {
			planet_pops_organics_food_upkeep_mult = -0.25
			planet_pops_organics_minerals_upkeep_mult = -0.25
			pop_growth_speed = -0.1
			biological_pop_happiness = -0.1
			lithoid_pop_happiness = -0.1
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "food_policy_normal"

		modifier = {}

		AI_weight = {
			factor = 1
		}
	}

	option = {
		name = "food_policy_generous"

		modifier = {
			planet_pops_organics_food_upkeep_mult = 0.25
			planet_pops_organics_minerals_upkeep_mult = 0.25
			biological_pop_happiness = 0.05
			lithoid_pop_happiness = 0.05
			pop_growth_speed = 0.10
		}

		AI_weight = {
			factor = 0
		}
	}
}


food_policy_gestalt = {
	potential = {
		always = no
	}

	option = {
		name = "food_policy_gestalt_rationing"

		modifier = {
			planet_pops_organics_food_upkeep_mult = -0.25
			pop_growth_speed = -0.15
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "food_policy_gestalt_normal"

		modifier = {}

		AI_weight = {
			factor = 1
		}
	}

	option = {
		name = "food_policy_gestalt_generous"

		modifier = {
			planet_pops_organics_food_upkeep_mult = 0.5
			pop_growth_speed = 0.33
		}

		AI_weight = {
			factor = 0
		}
	}
}
research_policy = {
	potential = {
		always = no
	}

	option = {
		name = "research_policy_no_focus"

		modifier = {
			all_technology_research_speed = 0.05
		}

		AI_weight = {
			factor = 10
		}
	}

	option = {
		name = "research_policy_field_manipulation"

		modifier = {
			category_field_manipulation_research_speed_mult = 0.10
			category_field_manipulation_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_particles"

		modifier = {
			category_particles_research_speed_mult = 0.10
			category_particles_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_computing"

		modifier = {
			category_computing_research_speed_mult = 0.10
			category_computing_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_new_worlds"

		modifier = {
			category_new_worlds_research_speed_mult = 0.10
			category_new_worlds_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_statecraft"

		modifier = {
			category_statecraft_research_speed_mult = 0.10
			category_statecraft_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_biology"

		modifier = {
			category_biology_research_speed_mult = 0.10
			category_biology_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_military_theory"

		modifier = {
			category_military_theory_research_speed_mult = 0.10
			category_military_theory_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_materials"

		modifier = {
			category_materials_research_speed_mult = 0.10
			category_materials_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_propulsion"

		modifier = {
			category_propulsion_research_speed_mult = 0.10
			category_propulsion_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_voidcraft"

		modifier = {
			category_voidcraft_research_speed_mult = 0.10
			category_voidcraft_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "research_policy_industry"

		modifier = {
			category_industry_research_speed_mult = 0.10
			category_industry_draw_chance_mult = 0.25
		}

		AI_weight = {
			factor = 0
		}
	}
}

economic_policy = {
	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}
	
	option = {
		name = "economic_policy_balanced"

		modifier = {
			council_agenda_progress_speed = 0.20
		}

		AI_weight = {
			factor = 1
		}
	}

	option = {
		name = "economic_policy_diplomacy"
		
		potential = {
			is_homicidal = no
			NOT = { has_valid_civic = civic_inwards_perfection }
		}
		
		valid = {
			has_tradition = tr_diplomacy_adopt
		}
		
		on_enabled = {
			
		}
		
		modifier = {
			country_trust_cap_add = 50
		}
		
		policy_flags = {
			economic_policy_diplomatic
		}

		AI_weight = {
			factor = 30
			modifier = {
				factor = 0
				has_federation = no
			}
		}
	}

	option = {
		name = "economic_policy_expansion"
		
		valid = {
			has_tradition = tr_expansion_adopt
		}
		
		modifier = {
			planet_colony_development_speed_mult = 0.1
			pop_environment_tolerance = 0.20
			terraform_speed_mult = 1
			planet_jobs_minerals_produces_mult = -0.2
			planet_jobs_energy_produces_mult = -0.2
			planet_jobs_food_produces_mult = -0.2
		}
		policy_flags = {
			economic_policy_expansion
		}
		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "economic_policy_supremacy"
		
		valid = {
			has_tradition = tr_supremacy_adopt
		}
		
		modifier = {
			country_alloys_produces_mult = -0.1
			ships_upkeep_mult = -0.20
			damage_vs_rival_mult = 0.1
		}

		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "economic_policy_prosperity"
		
		valid = {
			has_tradition = tr_prosperity_adopt
		}
		
		modifier = {
			trade_value_mult = 0.20
			planet_pops_consumer_goods_upkeep_mult = 0.1
		}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 10
				should_ai_focus_on_trade = yes
			}
		}
	}
	
	option = {
		name = "economic_policy_mercantile"
		
		valid = {
			has_tradition = tr_mercantile_adopt
		}
		potential = {
			is_homicidal = no
			NOT = { has_valid_civic = civic_inwards_perfection }
		}
		on_enabled = {
			custom_tooltip = "tooltip_economic_policy_mercantile_effects"
		}
		
		modifier = {
			commercial_pact_mult = 0.25
			starbase_trade_collection_range_add = 1
		}
		
		policy_flags = {
			economic_policy_mercantile
		}

		AI_weight = {
			factor = 20
		}
	}
	option = {
		name = "economic_policy_mercantile"
		
		valid = {
			has_tradition = tr_mercantile_adopt
		}
		potential = {
			OR = {
				is_homicidal = yes
				has_valid_civic = civic_inwards_perfection
			}
		}
		on_enabled = {
			custom_tooltip = "tooltip_economic_policy_mercantile_effects"
		}
		
		modifier = {
			country_trade_fee = -0.03
			starbase_trade_collection_range_add = 1
		}
		
		policy_flags = {
			economic_policy_mercantile
		}

		AI_weight = {
			factor = 20
		}
	}
	
	option = {
		name = "economic_policy_unyelding"
		
		valid = {
			has_tradition = tr_unyielding_adopt
		}
		
		modifier = {
			armies_upkeep_mult = -0.75
			country_energy_produces_mult = -0.05
		}

		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "economic_policy_domination"
		
		valid = {
			has_tradition = tr_domination_adopt
		}
		
		modifier = {
			species_leader_exp_gain = 1
			planet_jobs_ruler_produces_mult = 1.00
			pop_cat_specialist_happiness = -0.10
			pop_cat_worker_happiness = -0.10
		}
		policy_flags = {
			economic_policy_domination
		}
		AI_weight = {
			factor = 10
		}
	}
	
	option = {
		name = "economic_policy_harmony"
		
		valid = {
			has_tradition = tr_harmony_adopt
		}
		
		modifier = {
			planet_pops_consumer_goods_upkeep_mult = -0.2
			planet_jobs_upkeep_mult = -0.1
			trade_value_mult = -0.2
		}

		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "economic_policy_discovery"
		
		valid = {
			has_tradition = tr_discovery_adopt
		}
		
		modifier = {
			country_physics_tech_research_speed = -0.10
			country_society_tech_research_speed = -0.10
			country_engineering_tech_research_speed = 0.20
		}

		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "economic_policy_subterfuge"
		
		valid = {
			has_tradition = tr_subterfuge_adopt
		}
		potential = {
			is_homicidal = no
		}
		on_enabled = {
			custom_tooltip = "tooltip_economic_policy_subterfuge_effects"
		}
		
		modifier = {

		}
		
		policy_flags = {
			economic_policy_subterfuge
		}

		AI_weight = {
			factor = 0
		}
	}
	# option = {
	# 	name = "economic_policy_subterfuge_2"
		
	# 	valid = {
	# 		has_tradition = tr_subterfuge_adopt
	# 	}
	# 	potential = {
	# 		is_homicidal = yes
	# 	}
	# 	on_enabled = {
	# 		custom_tooltip = "tooltip_economic_policy_subterfuge_effects_2"
	# 	}
		
	# 	modifier = {

	# 	}
		
	# 	policy_flags = {
	# 		economic_policy_subterfuge
	# 	}

	# 	AI_weight = {
	# 		factor = 30
	# 	}
	# }
	
	option = {
		name = "economic_policy_adaptability"
		
		valid = {
			has_tradition = tr_adaptability_adopt
		}
		
		modifier = {
			empire_size_colonies_mult = -0.10
			empire_size_systems_mult = -0.10
			leaders_upkeep_mult = 0.50
		}
		policy_flags = {
			economic_policy_adaptability
		}
		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "economic_policy_leader_focus"
		
		valid = {
			has_tradition = tr_aptitude_adopt
		}
		
		modifier = {
			envoys_add = 1
			country_leader_cap_add = 1
			external_leader_pool_add = 1
			planet_jobs_ruler_produces_mult = 1
			planet_jobs_ruler_upkeep_mult = 1.1
			leaders_upkeep_mult = 0.2
			pop_cat_specialist_happiness = -0.05
			pop_cat_worker_happiness = -0.05
		}

		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "economic_policy_politics"
		
		valid = {
			has_tradition = tr_politics_adopt
		}
		
		modifier = {
			contact_produces_mult = 0.5
			envoys_add = 2
			country_leader_cap_add = -1
			planet_pops_consumer_goods_upkeep_mult = 0.25
			country_trust_cap_add = -50
		}
		policy_flags = {
			economic_policy_politics
		}
		
		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "economic_policy_statecraft"
		
		valid = {
			has_tradition = tr_statecraft_adopt
		}
		# policy_flags = {
		# 	economic_policy_statecraft
		# }
		modifier = {
			councilor_skill_add = 1
			country_society_tech_research_speed = +0.05
			pop_amenities_usage_mult = 0.20
			council_agenda_progress_speed = -0.15
		}

		AI_weight = {
			factor = 0
		}
	}
	
	
}

trade_policy = {
	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}

	option = {
		name = "trade_policy_default"

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "trade_policy_consumer_goods"
		valid = {
			has_tradition = tr_prosperity_finish
		}

		policy_flags = {
			trade_conversion_consumer_goods
		}

		modifier = {}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 100
				has_monthly_income = {
					resource = energy
					value < 0
				}
			}
			modifier = {
				factor = 100
				has_resource = { type = energy amount < 2000 }
				has_monthly_income = {
					resource = energy
					value < 700
				}
			}
		}
	}

	option = {
		name = "trade_policy_unity"
		valid = {
			has_tradition = tr_harmony_finish
		}

		policy_flags = {
			trade_conversion_unity
		}

		modifier = {
		}

		AI_weight = {
			factor = 1
		}
	}
	
	option = {
		name = "trade_policy_trade_league"
		
		valid = {
			has_tradition = tr_mercantile_finish
			# OR = {
			# 	any_country = {
			# 		has_commercial_pact = prev
			# 	}
			# 	has_federation = yes
			# }
		}
		
		policy_flags = {
			trade_conversion_trade_league
		}

		modifier = {
		}

		AI_weight = {
			factor = 100
			modifier = {
				factor = 0
				has_monthly_income = {
					resource = energy
					value < 20
				}
			}
		}
	}
	option = {
		name = "trade_policy_military"
		potential = {
		 	is_homicidal = no
			always = no
		}
		valid = {
			is_at_war = yes
			OR = {
				has_tradition = tr_politics_finish
				is_criminal_syndicate = yes
			}
			NOT = {
				any_country = {
					has_truce = root 
				}
			}
			NOT = {
				has_modifier = resolution_denounced
			}
			#any_country = {
			#	has_commercial_pact = prev
			#}
		}
		
		policy_flags = {
			trade_conversion_policy_military
		}

		modifier = {
			wars_influence_upkeep_mult = 1
		}

		AI_weight = {
			factor = 100
			modifier = {
				factor = 0
				has_resource = { type = energy amount < 1000 }
			}
		}
	}
	option = {
		name = "trade_policy_science"
		
		valid = {
			has_tradition = tr_discovery_finish
		}
		
		policy_flags = {
			trade_conversion_science
		}

		modifier = {
		}

		AI_weight = {
			factor = 10
		}
	}
	option = {
		name = "trade_policy_holy_covenant"
		
		valid = {
			OR = {
				has_ascension_perk = ap_consecrated_worlds
				AND = {
					has_federation = yes
					federation = { has_federation_perk = unity_trade_1 }
				}
			}
		}
		policy_flags = {
			trade_conversion_holy_covenant
		}

		modifier = {
		}

		AI_weight = {
			factor = 100
		}
	}
}


drone_policy = {
	potential = {
		has_ethic = ethic_gestalt_consciousness
	}

	option = {
		name = "drone_policy_balanced"

		modifier = {
			council_agenda_progress_speed = 0.20
		}

		AI_weight = {
			factor = 1
		}
	}
	
	option = {
		name = "drone_policy_versatility"
		
		valid = {
			OR = {
				has_tradition = tr_versatility_adopt
				has_tradition = tr_adaptability_adopt
			}
		}
		
		modifier = {
			empire_size_colonies_mult = -0.10
			empire_size_systems_mult = -0.10
			leaders_upkeep_mult = 0.50
		}

		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "drone_policy_diplomacy"
		
		potential = {
			is_homicidal = no
		}
		
		valid = {
			has_tradition = tr_diplomacy_adopt
		}
		
		on_enabled = {
			
		}
		
		modifier = {
			country_trust_cap_add = 50
		}
		
		policy_flags = {
			economic_policy_diplomatic
		}

		AI_weight = {
			factor = 30
			modifier = {
				factor = 0
				has_federation = no
			}
		}
	}

	option = {
		name = "drone_policy_expansion"
		
		potential = {
			has_authority = auth_hive_mind
		}
		valid = {
			has_tradition = tr_expansion_adopt
		}
		
		modifier = {
			pop_environment_tolerance = 0.20
			terraform_speed_mult = 1
			planet_jobs_minerals_produces_mult = -0.2
			planet_jobs_energy_produces_mult = -0.2
			planet_jobs_food_produces_mult = -0.2
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "drone_policy_expansion"
		
		potential = {
			has_authority = auth_machine_intelligence
		}
		valid = {
			has_tradition = tr_expansion_adopt
		}
		
		modifier = {
			planet_colony_development_speed_mult = 0.1
			terraform_speed_mult = 2
			planet_jobs_minerals_produces_mult = -0.2
			planet_jobs_energy_produces_mult = -0.2
			planet_jobs_food_produces_mult = -0.2
		}

		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "drone_policy_supremacy"
		
		valid = {
			has_tradition = tr_supremacy_adopt
		}
		
		modifier = {
			country_alloys_produces_mult = -0.1
			ships_upkeep_mult = -0.20
			damage_vs_rival_mult = 0.1
		}

		AI_weight = {
			factor = 10
		}
	}
	
	option = {
		name = "drone_policy_prosperity"
		
		valid = {
			has_tradition = tr_prosperity_adopt
		}
		
		modifier = {
			planet_jobs_upkeep_mult = 0.05
			country_energy_produces_mult = 0.1
		}

		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "drone_policy_domination"
		
		valid = {
			has_tradition = tr_domination_adopt
		}
		
		modifier = {
			species_leader_exp_gain = 1
			planet_jobs_simple_drone_produces_mult = -0.2
			planet_jobs_complex_drone_produces_mult = 0.1
		}
		policy_flags = {
			economic_policy_domination
		}
		AI_weight = {
			factor = 20
		}
	}
	
	option = {
		name = "drone_policy_synchronicity"
		
		valid = {
			has_tradition = tr_synchronicity_adopt
		}
		
		modifier = {
			planet_jobs_upkeep_mult = -0.1
			country_energy_produces_mult = -0.05
		}

		AI_weight = {
			factor = 10
		}
	}
	
	option = {
		name = "drone_policy_discovery"
		
		valid = {
			has_tradition = tr_discovery_adopt
		}
		
		modifier = {
			country_physics_tech_research_speed = -0.10
			country_society_tech_research_speed = -0.10
			country_engineering_tech_research_speed = 0.20
		}

		AI_weight = {
			factor = 0
		}
	}

	option = {
		name = "drone_policy_unyelding"
		
		valid = {
			has_tradition = tr_unyielding_adopt
		}
		
		modifier = {
			armies_upkeep_mult = -0.75
			country_energy_produces_mult = -0.05
		}

		AI_weight = {
			factor = 0
		}
	}
	
	option = {
		name = "drone_policy_subterfuge"
		
		valid = {
			has_tradition = tr_subterfuge_adopt
		}
		
		on_enabled = {
			custom_tooltip = "tooltip_economic_policy_subterfuge_effects_2"
		}
		
		modifier = {

		}
		
		policy_flags = {
			economic_policy_subterfuge
		}

		AI_weight = {
			factor = 30
			modifier = {
				factor = 0
				is_homicidal = no
			}
		}
	}
	option = {
		name = "drone_economic_policy_leader_focus"
		
		valid = {
			has_tradition = tr_aptitude_adopt
		}
		
		modifier = {
			envoys_add = 1
			country_leader_cap_add = 2
			external_leader_pool_add = 1
            leaders_upkeep_mult = -0.3
		}

		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "drone_economic_policy_politics"
		
		valid = {
			has_tradition = tr_politics_adopt
		}
		
		modifier = {
			contact_produces_mult = 0.5
			envoys_add = 2
			planet_pops_upkeep_mult = 0.25
			country_trust_cap_add = -50
		}
		AI_weight = {
			factor = 0
		}
	}
	option = {
		name = "drone_economic_policy_statecraft"
		
		valid = {
			has_tradition = tr_statecraft_adopt
		}
		
		modifier = {
			leader_skill_levels = 1
			country_society_research_produces_mult = 0.5
            pop_amenities_usage_mult = 0.20
			empire_size_pops_mult = -0.10
		}

		AI_weight = {
			factor = 0
		}
	}
}

artificial_intelligence_policy = {

	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
		OR = {
			can_set_ai_policy = yes
			has_country_flag = synthetic_empire
		}
	}

	option = {
		name = "ai_outlawed"

		valid = {
			NOR = {
				custom_tooltip = {
					success_text = is_a_synthetic_empire
					has_country_flag = synthetic_empire
				}
			}
		}

		policy_flags = {
			ai_outlawed
		}

		in_breach_of = {
			{
				key = resolution_galacticstudies_advanced_xenostudies
			}
		}

		AI_weight = {
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_materialist"
					has_ethic = "ethic_fanatic_materialist"
				}
			}
			modifier = {
				factor = 5
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
		}
	}

	option = {
		name = "ai_servitude"

		valid = {
			custom_tooltip = {
				fail_text = is_a_synthetic_empire_fail
				NOT = { has_country_flag = synthetic_empire }
			}
		}

		policy_flags = {
			ai_servitude
		}

		AI_weight = {
			modifier = {
				factor = 5
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_exploiter
			}
			modifier = {
				factor = 2
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_liberator
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
				NOT = {
					has_valid_ai_personality = yes
					is_ai = yes
					is_galactic_community_member = yes
					OR = {
						is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
						is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
						is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
					}
				}
			}
		}
	}

	option = {
		name = "ai_full_rights"

		valid = {
			NOT = { has_policy_flag = robots_outlawed }
		}

		policy_flags = {
			ai_full_rights
		}

		modifier = {}

		AI_weight = {
			modifier = {
				factor = 0.5
				is_materialist = no
				NOR = {
					is_synthetic_empire = yes
					has_technology = tech_synthetic_workers
				}
			}
			modifier = {
				factor = 5
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = robot_liberator
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_spiritualist"
					has_ethic = "ethic_fanatic_spiritualist"
				}
			}
		}
	}
}

robot_pop_policy = {

	potential = {
		NOT = { has_ethic = ethic_gestalt_consciousness }
	}

	option = {
		name = "robot_pops_outlawed"

		valid = {
			NOT = { has_policy_flag = ai_full_rights }
		}

		policy_flags = {
			robots_outlawed
		}

		on_enabled = {
			hidden_effect = {
				every_owned_species = {
					limit = { is_robotic_species = yes }
					set_citizenship_type = {
						type = citizenship_purge
						country = root
					}
				}
			}
		}

		AI_weight = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_ethic = "ethic_materialist"
					has_ethic = "ethic_fanatic_materialist"
				}
			}
			modifier = {
				factor = 10
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = robot_exploiter
					has_ai_personality_behaviour = robot_liberator
				}
			}

			modifier = {
				factor = 10
				has_ethic = "ethic_fanatic_spiritualist"
			}
		}
	}

	option = {
		name = "robot_pops_allowed"

		policy_flags = {
			robots_allowed
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				has_ethic = "ethic_fanatic_spiritualist"
			}
		}
	}
}

pre_sapients = {
	potential = {
		OR = {
			has_country_flag = found_presapients
			any_planet_within_border = {
				any_owned_pop = {
					is_sapient = no
				}
			}
		}
	}

	option = {
		name = "pre_sapients_protect"

		potential = {
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
			}
		}

		on_enabled = {
			hidden_effect = {
				set_country_flag = found_presapients
			}
		}

		policy_flags = {
			pre_sapients_protect
		}

		AI_weight = {
			factor = 2
			modifier = {
				factor = 0
				NOT = { has_ai_personality_behaviour = multispecies }
			}
		}
	}

	option = {
		name = "pre_sapients_allow"

		potential = {
			NOR = {
				has_valid_civic = civic_machine_terminator
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_fanatic_purifiers
			}
		}

		on_enabled = {
			hidden_effect = {
				set_country_flag = found_presapients
			}
		}

		policy_flags = {
			pre_sapients_allow
		}

		AI_weight = {
			factor = 1
		}
	}

	option = {
		name = "pre_sapients_eat"

		potential = {
			host_has_dlc = "Utopia"
			is_synthetic_empire = no
			NOT = {
				has_valid_civic = civic_fanatic_purifiers
			}
		}

		on_enabled = {
			hidden_effect = {
				set_country_flag = found_presapients
			}
		}

		valid = {
			NOR = {
				has_ethic = "ethic_xenophile"
				has_ethic = "ethic_fanatic_xenophile"
			}
		}

		policy_flags = {
			pre_sapients_eat
		}

		modifier = {}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_authority = auth_hive_mind }
			}
		}
	}

	option = {
		name = "pre_sapients_purge"

		valid = {
			NOR = {
				has_ethic = "ethic_xenophile"
				has_ethic = "ethic_fanatic_xenophile"
			}
		}

		on_enabled = {
			hidden_effect = {
				set_country_flag = found_presapients
			}
		}

		policy_flags = {
			pre_sapients_purge
		}

		modifier = {}

		AI_weight = {
			factor = 5
			modifier = {
				factor = 0
				is_country_type = default
				NOR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
					AND = {
						has_authority = auth_machine_intelligence
						NOR = {
							has_valid_civic = civic_machine_servitor
							has_valid_civic = civic_machine_assimilator
						}
					}
				}
			}
		}
	}
}

debris = {
	potential = {
		has_encountered_other_species = yes
		OR = {
			is_country_type = default
			is_country_type = fallen_empire
			is_country_type = awakened_fallen_empire
		}
	}

	option = {
		name = "research_debris"

		potential = {
			is_scavenger = no
		}

		policy_flags = {
			research_debris
		}
	}
	option = {
		name = "scavenge_debris"

		potential = {
			is_scavenger = no
		}

		policy_flags = {
			scavenge_debris
		}
	}

	option = {
		name = "scavenge_and_research_debris"

		potential = {
			is_scavenger = yes
		}

		valid = {
			has_encountered_other_species = yes
		}

		policy_flags = {
			scavenge_and_research_debris
		}
	}
}

refugees = {
	potential = {
		has_encountered_other_species = yes
		is_country_type = default
		OR = {
			NOT = { has_ethic = "ethic_gestalt_consciousness" }
			has_valid_civic = civic_machine_servitor
		}
	}

	option = {
		name = "refugees_not_allowed"

		valid = {
			always = yes
		}

		policy_flags = {
			refugees_not_allowed
		}
	}

	option = {
		name = "refugees_only_citizens"

		potential = {
			NOT = { has_ethic = "ethic_gestalt_consciousness" }
		}

		policy_flags = {
			refugees_only_citizens
		}

		valid = {
			NOT = {
				has_authority = auth_hive_mind
			}
		}

		AI_weight = {
			factor = 5
		}
	}

	option = {
		name = "refugees_allowed"

		policy_flags = {
			refugees_allowed
		}

		valid = {
			NOT = { has_valid_civic = "civic_fanatic_purifiers" }
		}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				NOR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
					has_valid_civic = civic_machine_servitor
					AND = {
						has_valid_ai_personality = yes
						NOT = { has_ai_personality_behaviour = multispecies }
					}
				}
			}
		}
	}
}

population_controls = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}

	option = {
		name = "population_controls_not_allowed"

		on_enabled = {
			hidden_effect = { every_owned_planet = { remove_modifier = planet_population_control } }
		}

		policy_flags = {
			population_controls_not_allowed
		}
	}

	option = {
		name = "population_controls_allowed"

		on_enabled = {
			hidden_effect = { every_owned_planet = { remove_modifier = planet_growth_discouraged } }
		}

		policy_flags = {
			population_controls_allowed
		}
		modifier = {}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}
		}
	}
}

slavery = {
	potential = {
		NOT = { has_ethic = "ethic_gestalt_consciousness" }
	}

	option = {
		name = "slavery_not_allowed"

		valid = {
			NOR = {
				has_valid_civic = civic_slaver_guilds
				has_valid_civic = civic_indentured_assets
			}
		}

		policy_flags = {
			slavery_not_allowed
		}
		
		in_breach_of = {
			{
				key = resolution_phi_aristocracy_anti_slacker_act
			}
		}
		
		on_enabled = {
			hidden_effect = {
				every_owned_planet = { remove_modifier = slave_colony }
				every_owned_leader = {
					limit = { has_trait = leader_trait_iron_fist }
					remove_trait = leader_trait_iron_fist
				}
			}
		}

		modifier = {
			slave_market_cost_mult = 1
		}
	}

	option = {
		name = "slavery_allowed"

		valid = {
			custom_tooltip = {
				success_text = is_not_a_signatory_vassal_success
				fail_text = is_not_a_signatory_vassal_fail
				NOT = { any_agreement = { agreement_preset = preset_signatory } }
			}
			custom_tooltip = {
				fail_text = is_broken_shackles_origin
				NOT = { has_origin = origin_broken_shackles }
			}
			NOR = {
				has_valid_civic = civic_free_haven
				has_valid_civic = civic_beacon_of_liberty
				has_valid_civic = civic_idealistic_foundation
				has_valid_civic = civic_shared_burden
				has_valid_civic = civic_shared_burden
			}
		}

		policy_flags = {
			slavery_allowed
		}
		modifier = {
			planet_jobs_worker_produces_mult = 0.05
		}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOT = { has_ai_personality_behaviour = slaver }
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				NOR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
			# special case for harmonious collectives
			modifier = {
				factor = 0
				has_valid_ai_personality = no
				is_ai = yes
				NOR = {
					has_ethic = "ethic_xenophobe"
					has_ethic = "ethic_fanatic_xenophobe"
					has_ethic = "ethic_militarist"
					has_ethic = "ethic_fanatic_militarist"
				}
				OR = {
					has_ethic = "ethic_pacifist"
					has_ethic = "ethic_fanatic_pacifist"
					has_ethic = "ethic_xenophile"
					has_ethic = "ethic_fanatic_xenophile"
				}
				OR = {
					has_ethic = "ethic_authoritarian"
					has_ethic = "ethic_fanatic_authoritarian"
				}
				NOR = {
					has_valid_civic = "civic_slaver_guilds"
					has_trait = "trait_decadent"
				}
			}
		}
	}
}

purge = {
	option = {
		name = "purge_not_allowed"

		valid = {
			NOT = { has_ethic = ethic_gestalt_consciousness }
			NOT = { has_valid_civic = "civic_fanatic_purifiers" }
		}

		policy_flags = {
			purge_not_allowed
		}
	}

	option = {
		name = "purge_displacement_only"

		policy_flags = {
			purge_displacement_only
		}

		modifier = {}

		valid = {
			NOR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			is_homicidal = no
		}

		AI_weight = {
			factor = 5
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				has_ai_personality_behaviour = multispecies
			}
		}
	}

	option = {
		name = "purge_allowed"

		in_breach_of = {
			{
				key = resolution_rulesofwar_reverence_for_life
			}
		}

		policy_flags = {
			purge_allowed
		}
		modifier = {}

		valid = {
			custom_tooltip = {
				success_text = is_not_a_signatory_vassal_success
				fail_text = is_not_a_signatory_vassal_fail
				NOT = { any_agreement = { agreement_preset = preset_signatory } }
			}
			custom_tooltip = {
				fail_text = is_broken_shackles_origin
				NOT = { has_origin = origin_broken_shackles }
			}
			OR = {
				has_ethic = ethic_gestalt_consciousness
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
				has_menace_perk = menp_undertaker	# Unlocked with Crisis Level 1
			}
		}

		AI_weight = {
			factor = 10
			modifier = {
				factor = 40
				has_ethic = ethic_gestalt_consciousness
				NOT = { has_valid_civic = civic_hive_empath }
			}
			modifier = {
				factor = 0
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}
			modifier = {
				factor = 0
				has_valid_ai_personality = yes
				NOR = {
					has_ai_personality_behaviour = purger
					has_ethic = ethic_gestalt_consciousness
					AND = {
						has_origin = origin_necrophage
						is_xenophobe = yes
					}
				}
			}
			modifier = {
				factor = 0.1
				has_valid_ai_personality = yes
				is_ai = yes
				is_galactic_community_member = yes
				OR = {
					is_active_resolution = "resolution_rulesofwar_reverence_for_life"
					is_active_resolution = "resolution_rulesofwar_independent_tribunals"
					is_active_resolution = "resolution_rulesofwar_last_resort_doctrine"
					is_active_resolution = "resolution_rulesofwar_demobilization_initiative"
				}
			}
			modifier = {
				factor = 10
				has_ascension_perk = ap_become_the_crisis
			}
			modifier = {
				factor = 1000
				has_origin = origin_necrophage
				is_xenophobe = yes
			}
		}
	}
}

knightly_duties = {
	potential = {
		is_country_type = default
		has_origin = origin_toxic_knights
		NOT = { has_country_flag = quest_abandoned }
	}

	option = {
		name = "questing_knights"

		policy_flags = {
			toxic_knights_questing
		}

		modifier = {
			science_ship_survey_speed = 0.15
			ship_anomaly_generation_chance_mult = 0.05
		}

		AI_weight = {
			factor = 5 #This should make sure AIs stick to this policy
		}
	}

	option = {
		name = "military_knights"

		policy_flags = {
			toxic_knights_military
		}

		modifier = {
			ship_home_territory_fire_rate_mult = 0.2
			ship_fire_rate_mult = 0.10
			army_damage_mult = 0.10
		}
	}

	option = {
		name = "diplomats_knights"

		policy_flags = {
			toxic_knights_diplomats
		}

		modifier = {
			diplo_weight_mult = 0.05
			envoys_add = 1
		}
	}

	option = {
		name = "herald_knights"

		potential = {
			owner = { has_country_flag = toxoids_7090_a }
		}

		policy_flags = {
			toxic_knights_herald
		}

		modifier = {
			edicts_cost_mult = -0.15
			edicts_upkeep_mult = -0.15
		}
	}
}

relentless_industrialists_policy = {
	potential = {
		is_country_type = default
		is_relentless_industrialist_empire = yes
		has_country_flag = relentless_industrialists_situation_finished
	}

	#Fires when the policy group first becomes available
	on_activate = {
		set_policy_cooldown = relentless_industrialists_policy
	}

	option = {
		name = relentless_industrialists_full_steam_ahead

		policy_flags = {
			relentless_industrialists_full_steam_ahead
		}

		AI_weight = {
			weight = 1
			modifier = {
				factor = 5
				has_country_flag = relentless_industrialists_full_steam_ahead
			}
		}
	}
	option = {
		name = relentless_industrialists_study

		policy_flags = {
			relentless_industrialists_study
		}

		on_enabled = {
			if = {
				limit = {
					NOT = { has_country_flag = relentless_industrialists_study_completed }
				}
				enable_special_project = {
					name = RELENTLESS_INDUSTRIALISTS_STUDY_PROJECT
				}
			}
		}

		AI_weight = {
			weight = 1
			modifier = {
				factor = 5
				has_country_flag = relentless_industrialists_study_completed
			}
		}
	}
	option = {
		name = relentless_industrialists_cleanup

		policy_flags = {
			relentless_industrialists_cleanup
		}

		AI_weight = {
			weight = 1
			modifier = {
				factor = 5
				has_country_flag = relentless_industrialists_cleanup
			}
		}
	}
}

roboticist_output = {
	potential = {
		has_tradition = tr_cybernetics_assembly_standards
		is_regular_empire = yes
	}

	option = {
		name = build_robots

		policy_flags = {
			roboticist_output_build_robots
		}

	}

	option = {
		name = build_cyborgs

		policy_flags = {
			roboticist_output_build_cyborgs
		}

		AI_weight = {
			factor = 2
		}
	}
}
