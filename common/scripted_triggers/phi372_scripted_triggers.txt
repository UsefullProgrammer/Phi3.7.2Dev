is_faction_allowed_phi = {
	OR = {
			years_passed > 1
		AND = {
			days_passed > 30
			has_valid_civic = civic_parliamentary_system
		}
		AND = {
			days_passed > 180
			has_origin = origin_broken_shackles
		}
	}
	NOT = { has_ethic = ethic_gestalt_consciousness }
	NOT = { has_country_flag = suppress_vanilla_factions }
}
is_inwards_perfection = {
	OR = {
		has_valid_civic = civic_inwards_perfection
	}
}
#dedicata a mario
is_civic_despoilers = {
	OR = {
		has_valid_civic = civic_barbaric_despoilers
		has_valid_civic = civic_machine_despoilers
		has_valid_civic = civic_hive_despoilers
	}
}
is_in_learning_campaign = {
	OR = {
		has_edict = machine_learning_campaign
		has_edict = education_campaign
		has_edict = learning_campaign
	}
}

have_genetics_adopt = {
	hidden_trigger = { exists = from }
	from = {
		has_tradition = tr_genetics_adopt
	}
}
crisis_run = {
	NOR = {
		crisis_happened_and_defeated = yes #Contingency, Extradimensionals or Prethoryn
		AND = { #If the Khan is defeated, Crisis Beacon should be hidden until a new crisis happens
			has_global_flag = great_khan_dead
			has_crisis = no
		}
		AND = { #If the Gray Tempest is defeated, Crisis Beacon should be hidden until a new crisis happens
			has_global_flag = graygoo_defeated
			has_crisis = no
		}
		has_crisis_stage_4 = yes
	}
}
crisis_run_optimized = {
	has_global_flag = crisis_run_flag
}
War_Valid_survive = { #scope war
	NOR = {
		using_war_goal = { type = FW_wg_open_border_long owner = root }
		using_war_goal = { type = FW_wg_open_border owner = root }
	}
}

 